# ูุธุงู ุนูุงุฏุฉ ุทุจ ุงูุนููู - Roaya Clinic Management System

## ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ุดุงูู ูุฅุฏุงุฑุฉ ุนูุงุฏุฉ ุทุจ ุงูุนููู ูุฏุนู ุซูุงุซุฉ ุฃุฏูุงุฑ ุฑุฆูุณูุฉ:
- **ุงูุทุจูุจ**: ุฅุฏุงุฑุฉ ุงููุฑุถูุ ุงูููุงุนูุฏุ ุงููุตูุงุชุ ูุงููุญูุตุงุช
- **ุงูุณูุฑุชูุฑ**: ุฅุฏุงุฑุฉ ุงูุญุฌูุฒุงุชุ ุงููุฏููุนุงุชุ ูุชุณุฌูู ุงููุฑุถู
- **ุงููุฏูุฑ**: ุฅุฏุงุฑุฉ ุงููุธุงูุ ุงููุณุชุฎุฏูููุ ูุงูุชูุงุฑูุฑ

## ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### ๐ฅ **ุฅุฏุงุฑุฉ ุงููุฑุถู**
- ุชุณุฌูู ุงููุฑุถู ุงูุฌุฏุฏ ูุน ุงูุชุงุฑูุฎ ุงูุทุจู
- ููู ุทุจู ุดุงูู ูุน ุงูุฃุญุฏุงุซ ุงูุฒูููุฉ
- ุฅุฑูุงู ุงููููุงุช ูุงูุตูุฑ
- ุงูุจุญุซ ุงููุชูุฏู ูุงูุชุตููุฉ

### ๐ **ุฅุฏุงุฑุฉ ุงูููุงุนูุฏ**
- ุชูููู ุชูุงุนูู ูุน ุชุญุฏูุซ ุชููุงุฆู ูู 60 ุซุงููุฉ
- ูุชุฑุงุช ุฒูููุฉ ูุฏุชูุง 15 ุฏูููุฉ
- ุณุงุนุงุช ุงูุนูู: 2:00 ูุณุงุกู - 11:00 ูุณุงุกู
- ุฅุบูุงู ููู ุงูุฌูุนุฉ
- ุฌุฏูู ุนูู ูููุตู ููู ุทุจูุจ

### ๐ **ุงููุตูุงุช ุงูุทุจูุฉ**
- ูุตูุงุช ุงูุฃุฏููุฉ ูุน ุงูุชูุงุตูู ุงููุงููุฉ
- ูุตูุงุช ุงููุธุงุฑุงุช ูุน ุงูููุงุณุงุช ุงูุฏูููุฉ
- ุทูุจุงุช ุงููุญูุตุงุช ุงููุฎุจุฑูุฉ
- ุทุจุงุนุฉ ุงุญุชุฑุงููุฉ ุจุชุตููู RTL

### ๐ฐ **ุฅุฏุงุฑุฉ ุงููุงููุฉ**
- ุชุณุฌูู ุงููุฏููุนุงุช ุจุฃููุงุน ูุฎุชููุฉ
- ูุธุงู ุงูุฎุตููุงุช ูุงูุฅุนูุงุกุงุช
- ููุงุชูุฑ ููุตูุฉ ูุน ุงูุชูุงุฒู
- ุชูุงุฑูุฑ ุงูุฅูุฑุงุฏุงุช ูุงููุตุฑููุงุช

### ๐ **ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช**
- ููุญุงุช ุชุญูู ุชูุงุนููุฉ
- ุชูุงุฑูุฑ ูุงููุฉ ุดุงููุฉ
- ุฅุญุตุงุฆูุงุช ุงูููุงุนูุฏ ูุงููุฑุถู
- ุชุตุฏูุฑ ุงูุจูุงูุงุช ุจุตูุบุฉ CSV

### ๐ **ุงูุฃูุงู ูุงูุตูุงุญูุงุช**
- ูุธุงู ูุตุงุฏูุฉ ุขูู
- ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช (RBAC)
- ุญูุงูุฉ CSRF
- ุชุณุฌูู ุงูุฃุญุฏุงุซ ูุงูุชุฏููู

## ุงููุชุทูุจุงุช ุงูุชูููุฉ

### **ุงูุฎุงุฏู**
- PHP 8.2 ุฃู ุฃุญุฏุซ
- MySQL 8.0 ุฃู ุฃุญุฏุซ
- Apache/Nginx ูุน mod_rewrite
- Composer

### **ููุญูุงุช PHP ุงููุทููุจุฉ**
- ext-pdo
- ext-json
- ext-mbstring

## ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ

### 1. **ุงุณุชูุณุงุฎ ุงููุดุฑูุน**
```bash
git clone <repository-url>
cd clinic
```

### 2. **ุชุซุจูุช ุงูุชุจุนูุงุช**
```bash
composer install
```

### 3. **ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช**
```bash
# ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
mysql -u root -pCarmen -e "CREATE DATABASE roaya CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;"

# ุงุณุชูุฑุงุฏ ูุฎุทุท ูุงุนุฏุฉ ุงูุจูุงูุงุช
mysql -u root -pCarmen roaya < sql/schema.sql

# ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช ุงูุฃูููุฉ (ูุฏ ุชุธูุฑ ุชุญุฐูุฑุงุช ููุจูุงูุงุช ุงูููุฑุฑุฉ - ูุฐุง ุทุจูุนู)
mysql -u root -pCarmen roaya < sql/seed.sql
```

### 4. **ุชูููู ุงูุจูุฆุฉ**
```bash
# ุฅูุดุงุก ููู .env
cat > .env << 'EOF'
# Database Configuration
DB_HOST=localhost
DB_NAME=roaya
DB_USER=root
DB_PASS=Carmen

# Application Configuration
APP_ENV=local
APP_KEY=roaya-clinic-system-2024-secret-key-32
TIMEZONE=Africa/Cairo

# Security
SESSION_SECRET=roaya-session-secret-key-2024-32-chars
CSRF_SECRET=roaya-csrf-secret-key-2024-32-chars

# Logging
LOG_LEVEL=info
LOG_FILE=storage/logs/app.log
EOF
```

### 5. **ุฅุนุฏุงุฏ ุฎุงุฏู ุงูููุจ**

#### **Apache (.htaccess)**
```apache
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php [QSA,L]
```

#### **Nginx**
```nginx
location / {
    try_files $uri $uri/ /index.php?$query_string;
}
```

### 6. **ุฅุนุฏุงุฏ ุงูุตูุงุญูุงุช**
```bash
# ุฅูุดุงุก ุงููุฌูุฏุงุช ุงููุทููุจุฉ ูุชุนููู ุงูุตูุงุญูุงุช
mkdir -p storage/logs storage/uploads storage/exports
chmod -R 755 storage/

# ุฅุนุงุฏุฉ ุชูููุฏ autoloader
composer dump-autoload
```

### 7. **ุชุดุบูู ุงููุธุงู**
```bash
# ุชุดุบูู ุฎุงุฏู PHP ุงููุฏูุฌ ูุน ุงูุฑุงูุชุฑ ุงููุฎุตุต
php -S localhost:8000 router.php

# ุฃู ุชุดุบููู ูู ุงูุฎูููุฉ
php -S localhost:8000 router.php &
```

**ุงููุตูู ูููุธุงู:**
- **ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ**: `http://localhost:8000/`
- **ุฏุฎูู ุงููุธุงู**: `http://localhost:8000/public/`
- **ุชุณุฌูู ุงูุฏุฎูู ูุจุงุดุฑุฉ**: `http://localhost:8000/public/login`

**ุฃู ุงุณุชุฎุฏุงู Apache/Nginx:**
- ูุฌู document root ุฅูู ูุฌูุฏ ุงููุดุฑูุน ุงูุฑุฆูุณู
- ุชุฃูุฏ ูู ูุฌูุฏ ููู `.htaccess` ูู ุงููุฌูุฏ ุงูุฑุฆูุณู
- ุณูุชู ุนุฑุถ ุตูุญุฉ ุชุฑุญูุจูุฉ ูุน ุฑุงุจุท ุฏุฎูู ุงููุธุงู

## ุจูุงูุงุช ุชุณุฌูู ุงูุฏุฎูู ุงูุงูุชุฑุงุถูุฉ

| ุงูุฏูุฑ | ุงุณู ุงููุณุชุฎุฏู | ุงูุจุฑูุฏ ุงูุฅููุชุฑููู | ูููุฉ ุงููุฑูุฑ |
|-------|-------------|------------------|-------------|
| **Dr. Ahmed** | `dr_ahmed` | `dr.ahmed@roayaclinic.com` | `password` |
| **Dr. Faramawy** | `dr_faramawy` | `dr.faramawy@roayaclinic.com` | `password` |
| **Secretary** | `sec` | `sec@roayaclinic.com` | `password` |
| **Admin** | `admin` | `admin@roayaclinic.com` | `password` |

**ููุงุญุธุฉ ูููุฉ:** ุงููุธุงู ุงูุขู ูุณุชุฎุฏู **ุงุณู ุงููุณุชุฎุฏู** ุจุฏูุงู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุชุณุฌูู ุงูุฏุฎูู.

## ูููู ุงููุดุฑูุน

```
clinic/
โโโ app/
โ   โโโ Config/          # ูููุงุช ุงูุฅุนุฏุงุฏุงุช
โ   โโโ Controllers/     # ูุญุฏุงุช ุงูุชุญูู
โ   โโโ Lib/            # ุงูููุชุจุงุช ุงูุฃุณุงุณูุฉ
โ   โโโ Views/          # ููุงูุจ ุงููุงุฌูุฉ
โ       โโโ admin/      # ูุงุฌูุฉ ุงููุฏูุฑ
โ       โโโ doctor/     # ูุงุฌูุฉ ุงูุทุจูุจ
โ       โโโ secretary/  # ูุงุฌูุฉ ุงูุณูุฑุชูุฑ
โ       โโโ print/      # ููุงูุจ ุงูุทุจุงุนุฉ
โโโ public/              # ููุทุฉ ุงูุฏุฎูู
โโโ sql/                 # ูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
โโโ storage/             # ุงููููุงุช ุงููุฎุฒูุฉ
โ   โโโ logs/           # ุณุฌูุงุช ุงููุธุงู
โ   โโโ uploads/        # ุงููููุงุช ุงููุฑููุฉ
โ   โโโ exports/        # ุงูุชูุงุฑูุฑ ุงููุตุฏุฑุฉ
โโโ vendor/              # ููุชุจุงุช Composer
โโโ .env                 # ุฅุนุฏุงุฏุงุช ุงูุจูุฆุฉ
โโโ .env.example         # ูููุฐุฌ ุงูุฅุนุฏุงุฏุงุช
โโโ composer.json        # ุชุจุนูุงุช ุงููุดุฑูุน
โโโ README.md            # ูุฐุง ุงูููู
```

## ุงูุงุณุชุฎุฏุงู

### **ุงูุทุจูุจ**
1. ุชุณุฌูู ุงูุฏุฎูู ุจุงุณุชุฎุฏุงู ุจูุงูุงุช ุงูุทุจูุจ
2. ุนุฑุถ ููุญุฉ ุงูุชุญูู ูุน ุงูุฅุญุตุงุฆูุงุช
3. ุฅุฏุงุฑุฉ ุงูุชูููู ูุงูููุงุนูุฏ
4. ุนุฑุถ ูููุงุช ุงููุฑุถู ูุฅูุดุงุก ุงููุตูุงุช
5. ุฅุบูุงู ุงูููู ูุฅููุงู ุงูุญุณุงุจุงุช

### **ุงูุณูุฑุชูุฑ**
1. ุชุณุฌูู ุงูุฏุฎูู ุจุงุณุชุฎุฏุงู ุจูุงูุงุช ุงูุณูุฑุชูุฑ
2. ุฅุฏุงุฑุฉ ุงูุญุฌูุฒุงุช ูุงูููุงุนูุฏ
3. ุชุณุฌูู ุงููุฑุถู ุงูุฌุฏุฏ
4. ุฅุฏุงุฑุฉ ุงููุฏููุนุงุช ูุงูููุงุชูุฑ
5. ุงูุจุญุซ ุนู ุงููุฑุถู ูุนุฑุถ ูููุงุชูู

### **ุงููุฏูุฑ**
1. ุชุณุฌูู ุงูุฏุฎูู ุจุงุณุชุฎุฏุงู ุจูุงูุงุช ุงููุฏูุฑ
2. ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงูุตูุงุญูุงุช
3. ุนุฑุถ ุชูุงุฑูุฑ ุงููุธุงู
4. ูุฑุงูุจุฉ ุตุญุฉ ุงููุธุงู
5. ุชุตุฏูุฑ ุงูุจูุงูุงุช ูุงูุชูุงุฑูุฑ

## ุงูุทุจุงุนุฉ

### **ุงููุตูุฉ ุงูุทุจูุฉ**
- **ุงููุณุงุฑ**: `/print/prescription/{id}`
- **ุงูุญุฌู**: 24.5 ุณู ุนุฑุถ
- **ุงูุชุตููู**: RTL ููุบุฉ ุงูุนุฑุจูุฉ
- **ุงููุญุชูู**: ุชูุงุตูู ุงูุฏูุงุกุ ุงูุฌุฑุนุฉุ ุงูุชุนูููุงุช

### **ูุตูุฉ ุงููุธุงุฑุงุช**
- **ุงููุณุงุฑ**: `/print/glasses/{id}`
- **ุงูุญุฌู**: A4
- **ุงููุญุชูู**: ููุงุณุงุช ุงูุนููููุ ููุน ุงูุนุฏุณุฉุ ุงููุณุงูุฉ ุจูู ุงูุญุฏูุชูู

### **ุทูุจ ุงููุญูุตุงุช**
- **ุงููุณุงุฑ**: `/print/lab-tests/{id}`
- **ุงูุญุฌู**: A5
- **ุงููุญุชูู**: ูุญูุตุงุช ุงูุนููุ ุงูุชุดุฎูุตุ ุฎุทุฉ ุงูุนูุงุฌ

### **ุงููุงุชูุฑุฉ**
- **ุงููุณุงุฑ**: `/print/invoice/{id}`
- **ุงูุญุฌู**: A4
- **ุงููุญุชูู**: ุชูุงุตูู ุงููุฏููุนุงุชุ ุงูุชูุงุฒูุ ุงูุดุฑูุท

## API

### **ุงูููุงุท ุงูููุงุฆูุฉ ุงูุฑุฆูุณูุฉ**
- `GET /api/calendar` - ุจูุงูุงุช ุงูุชูููู
- `POST /api/appointments` - ุฅูุดุงุก ููุนุฏ
- `PUT /api/appointments/{id}` - ุชุญุฏูุซ ููุนุฏ
- `POST /api/payments` - ุชุณุฌูู ุฏูุนุฉ
- `GET /api/patients/search` - ุงูุจุญุซ ุนู ุงููุฑุถู

### **ุงุณุชุฌุงุจุฉ API**
```json
{
    "ok": true,
    "data": {...},
    "error": null
}
```

## ุงูุฃูุงู

### **ุญูุงูุฉ CSRF**
- ุฌููุน ุทูุจุงุช POST/PUT ุชุชุทูุจ ุฑูุฒ CSRF
- ุชุฌุฏูุฏ ุชููุงุฆู ููุฑููุฒ

### **ุฅุฏุงุฑุฉ ุงูุฌูุณุงุช**
- ุฌูุณุงุช ุขููุฉ ูุน ุชุฌุฏูุฏ ุชููุงุฆู
- ุฅูุบุงุก ุงูุฌูุณุงุช ุนูุฏ ุชุบููุฑ ูููุฉ ุงููุฑูุฑ

### **ุงูุชุญูู ูู ุงูุตูุงุญูุงุช**
- ูุธุงู ุฃุฏูุงุฑ ูุชูุฏู (RBAC)
- ุงูุชุญูู ูู ุงูุตูุงุญูุงุช ููู ุนูููุฉ

## ุงูุฃุฏุงุก

### **ุชุญุณูู ูุงุนุฏุฉ ุงูุจูุงูุงุช**
- ููุงุฑุณ ูุญุณูุฉ ููุงุณุชุนูุงูุงุช ุงููุชูุฑุฑุฉ
- ุงุณุชุนูุงูุงุช ูุญุณูุฉ ูุน JOIN

### **ุงูุชุฎุฒูู ุงููุคูุช**
- ETags ููุงุณุชุฌุงุจุงุช
- Last-Modified headers

### **ุงูุชุญุฏูุซ ุงูุชููุงุฆู**
- ุงูุชูููู: ุชุญุฏูุซ ูู 60 ุซุงููุฉ
- ููุญุฉ ุงูุชุญูู: ุชุญุฏูุซ ูู 30 ุซุงููุฉ

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### **ูุดุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช**
```bash
# ูุญุต ุงูุงุชุตุงู
mysql -u root -p -h localhost

# ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช
SHOW DATABASES;
USE roaya;
SHOW TABLES;
```

### **ูุดุงูู PHP**
```bash
# ูุญุต ุฅุตุฏุงุฑ PHP
php -v

# ูุญุต ุงูููุญูุงุช
php -m | grep -E "(pdo|json|mbstring)"
```

### **ูุดุงูู ุงูุตูุงุญูุงุช**
```bash
# ูุญุต ุตูุงุญูุงุช ุงููุฌูุฏุงุช
ls -la storage/

# ุฅุนุงุฏุฉ ุชุนููู ุงูุตูุงุญูุงุช
chmod -R 755 storage/
```

## ุงูุชุทููุฑ

### **ุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ**
1. ุฅูุดุงุก Controller ุฌุฏูุฏ ูู `app/Controllers/`
2. ุฅุถุงูุฉ ุงูููุงูุจ ูู `app/Views/`
3. ุชุญุฏูุซ ุงููุณุงุฑุงุช ูู `public/index.php`
4. ุฅุถุงูุฉ API endpoints ุฅุฐุง ูุฒู ุงูุฃูุฑ

### **ุชุฎุตูุต ุงูุชุตููู**
- ุชุนุฏูู CSS ูู `app/Views/layouts/main.php`
- ุชุฎุตูุต ููุงูุจ ุงูุทุจุงุนุฉ ูู `app/Views/print/`
- ุฅุถุงูุฉ JavaScript ูุฎุตุต

## ุงูุฏุนู

### **ุงููุณุงุนุฏุฉ**
- ูุญุต ูููุงุช ุงูุณุฌู ูู `storage/logs/`
- ูุฑุงุฌุนุฉ ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุงูุชุฃูุฏ ูู ุตุญุฉ ููู `.env`

### **ุงูุชุญุฏูุซุงุช**
```bash
# ุชุญุฏูุซ ุงูุชุจุนูุงุช
composer update

# ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช
mysql -u root -p roaya < sql/migrations/new_migration.sql
```

## ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ูุฑุฎุต ุชุญุช ุฑุฎุตุฉ MIT. ุฑุงุฌุน ููู `LICENSE` ููุชูุงุตูู.

## ุงููุณุงููุฉ

ูุฑุญุจ ุจุงููุณุงููุงุช! ูุฑุฌู:
1. Fork ุงููุดุฑูุน
2. ุฅูุดุงุก ูุฑุน ููููุฒุฉ ุงูุฌุฏูุฏุฉ
3. ุฅุฑุณุงู Pull Request

## ุงูุฅุตุฏุงุฑ

**ุงูุฅุตุฏุงุฑ ุงูุญุงูู**: 1.0.0
**ุขุฎุฑ ุชุญุฏูุซ**: ุฏูุณูุจุฑ 2024

---

**ููุงุญุธุฉ**: ุชุฃูุฏ ูู ุชุบููุฑ ูููุงุช ุงููุฑูุฑ ุงูุงูุชุฑุงุถูุฉ ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ.
