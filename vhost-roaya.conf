# Virtual Host للـ subdomain - ضعه في /etc/apache2/sites-available/roaya.conf

<VirtualHost *:80>
    ServerName roaya.ahmedhelal.dev
    DocumentRoot /var/www/html/clinic/public
    
    # Main directory configuration
    <Directory /var/www/html/clinic/public>
        Options -Indexes +FollowSymLinks
        AllowOverride All
        Require all granted
        DirectoryIndex index.php
        
        # Force all requests through index.php
        FallbackResource /index.php
    </Directory>
    
    # Additional security for parent directory
    <Directory /var/www/html/clinic>
        Options -Indexes
        AllowOverride None
        Require all denied
    </Directory>
    
    # Allow access only to public folder
    <Directory /var/www/html/clinic/public>
        Require all granted
    </Directory>
    
    # Logging
    ErrorLog ${APACHE_LOG_DIR}/roaya-error.log
    CustomLog ${APACHE_LOG_DIR}/roaya-access.log combined
    LogLevel warn
</VirtualHost>

# HTTPS version (if SSL is configured)
<VirtualHost *:443>
    ServerName roaya.ahmedhelal.dev
    DocumentRoot /var/www/html/clinic/public
    
    <Directory /var/www/html/clinic/public>
        Options -Indexes +FollowSymLinks
        AllowOverride All
        Require all granted
        DirectoryIndex index.php
        FallbackResource /index.php
    </Directory>
    
    # SSL Configuration will be here
    # SSLEngine on
    # SSLCertificateFile /path/to/cert
    # SSLCertificateKeyFile /path/to/key
    
    ErrorLog ${APACHE_LOG_DIR}/roaya-ssl-error.log
    CustomLog ${APACHE_LOG_DIR}/roaya-ssl-access.log combined
</VirtualHost>
