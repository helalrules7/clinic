RewriteEngine On

# Redirect /public to the actual application
RewriteRule ^public/?$ public/index.php [L]
RewriteRule ^public/(.*)$ public/$1 [L]

# Show index.html by default
DirectoryIndex index.html index.php

# Security - block access to sensitive files
<Files ".env">
    Order allow,deny
    Deny from all
</Files>

<Files "composer.json">
    Order allow,deny
    Deny from all
</Files>

<Files "composer.lock">
    Order allow,deny
    Deny from all
</Files>

<FilesMatch "^\.">
    Order allow,deny
    Deny from all
</FilesMatch>