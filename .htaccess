RewriteEngine On

# Redirect /clinic/public to root if DocumentRoot is /var/www/html/clinic/public
RewriteCond %{HTTP_HOST} ^192\.168\.40\.128$
RewriteCond %{REQUEST_URI} ^/clinic/public/(.*)$
RewriteRule ^clinic/public/(.*)$ /$1 [R=301,L]

# Handle requests to /clinic/public when not using alias
RewriteCond %{REQUEST_URI} ^/clinic/public/
RewriteCond %{DOCUMENT_ROOT}/clinic/public%{REQUEST_URI} -f [OR]
RewriteCond %{DOCUMENT_ROOT}/clinic/public%{REQUEST_URI} -d
RewriteRule ^clinic/public/(.*)$ /clinic/public/$1 [L]

# Redirect /clinic to login page
RewriteRule ^clinic/?$ /login [R=302,L]